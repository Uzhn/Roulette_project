# Roulette_project

---

### Логика приложения:
## Псевдорулетка 
Есть псевдорулетка с джекпотом, которая состоит из 11 ячеек:
    • числа от 1 до 10
    • ячейка джекпот

Пользователь крутит рулетку и ему выпадает одна из ячеек. После того, как ячейка выпала, она исключается из дальнейшего выпадения (т.е. в этом раунде рулетки она уже выпасть не может). Ячейка джекпот выпадает только после того как выпали все ячейки от 1 до 10. После того, как выпадает джекпот, раунд рулетки завершается и начинается новый раунд. Шанс выпадения каждой ячейки одинаковый.

###  Функционал:
- Пользователь регистрируется по email, username, password
- Авторизованный пользователь может прокрутить рулетку
- Любой пользователь может посмотреть статистику раундов рулетки
- Любой пользователь может посмотреть самых активных игроков

---

###  Стек:
- Django Rest framework
- PostgreSQL
- Docker

### QuickStart
- Клонирование репозитория
```
git clone git@github.com:Uzhn/hook_production_testovoe.git
```

- Переименуйте файл ```.env.example``` в ```.env```


- Создание контейнеров базы данных и приложения
```
sudo docker-compose up -d --build
```
- Применение миграций
```
sudo docker-compose exec roulette_app python manage.py migrate
```
- Регистрация пользователя POST HTTP запрос с JSON данными
```
http://127.0.0.1:8000/api/auth/users/
```
```
{
    "email": "test@gmail.ru",
    "username": "test",
    "password": "test123123"
}
```

- Получение JWT token POST HTTP запрос с JSON данными
```
http://127.0.0.1:8000/api/auth/jwt/create/
```
```
{
    "email": "test@gmail.ru",
    "password": "test123123"
}
```

- Если тестируете через Postman, указать access токен после ключего слова Bearer, в headers
key: Authorization, value: Bearer access токен

- Авторизованный пользователь может прокрутить рулетку. POST HTTP запрос без данных
```
http://127.0.0.1:8000/api/spin_roulette/
```

- Просмотр статистики раундов. GET HTTP запрос
```
http://127.0.0.1:8000/api/statistic/
```

Просмотр самых активных игроков. GET HTTP запрос
```
http://127.0.0.1:8000/api/active_users/
```


